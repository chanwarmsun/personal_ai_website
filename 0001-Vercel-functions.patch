From c14f70b23c02f6958608c865fd77b9d408d6768f Mon Sep 17 00:00:00 2001
From: chanwarmsun <chanwarmsun0@gmail.com>
Date: Wed, 18 Jun 2025 14:38:32 +0800
Subject: [PATCH 1/2] =?UTF-8?q?=E4=BF=AE=E5=A4=8DVercel=E5=87=BD=E6=95=B0?=
 =?UTF-8?q?=E8=BF=90=E8=A1=8C=E6=97=B6=E9=85=8D=E7=BD=AE=E9=94=99=E8=AF=AF?=
 =?UTF-8?q?=20-=20=E7=A7=BB=E9=99=A4=E6=97=A0=E6=95=88=E7=9A=84functions?=
 =?UTF-8?q?=E9=85=8D=E7=BD=AE?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 VERCEL_BUILD_ERROR_FIX.md | 46 +++++++++++++++++++++++++++------------
 vercel.json               |  5 -----
 2 files changed, 32 insertions(+), 19 deletions(-)

diff --git a/VERCEL_BUILD_ERROR_FIX.md b/VERCEL_BUILD_ERROR_FIX.md
index ff75050..d58cdc0 100644
--- a/VERCEL_BUILD_ERROR_FIX.md
+++ b/VERCEL_BUILD_ERROR_FIX.md
@@ -1,16 +1,24 @@
 # Vercelæ„å»ºé”™è¯¯ä¿®å¤è®°å½•
 
 ## é—®é¢˜æè¿°
-Verceléƒ¨ç½²æ—¶å‡ºç°TypeScriptç¼–è¯‘é”™è¯¯ï¼š
+Verceléƒ¨ç½²æ—¶å‡ºç°å¤šä¸ªé”™è¯¯ï¼š
+
+### 1. TypeScriptç¼–è¯‘é”™è¯¯ï¼š
 ```
 ./github-backup-20250618-1301/app/admin/page.tsx:5:26
 Type error: Cannot find module '../../lib/supabase' or its corresponding type declarations.
 ```
 
+### 2. å‡½æ•°è¿è¡Œæ—¶é…ç½®é”™è¯¯ï¼š
+```
+Error: Function Runtimes must have a valid version, for example `now-php@1.0.0`.
+```
+
 ## æ ¹æœ¬åŸå› åˆ†æ
 1. **æ„å»ºç¼“å­˜é—®é¢˜**: Vercelåœ¨æ„å»ºæ—¶å¼•ç”¨äº†ä¸å­˜åœ¨çš„å¤‡ä»½è·¯å¾„
 2. **å¯¼å…¥è·¯å¾„å†²çª**: `app/admin/page.tsx`ä¸­æœ‰é‡å¤çš„å¯¼å…¥è¯­å¥
 3. **TypeScriptç¼–è¯‘ç¼“å­˜**: å¯èƒ½å­˜åœ¨è¿‡æœŸçš„ç¼–è¯‘ç¼“å­˜
+4. **Vercelå‡½æ•°é…ç½®é”™è¯¯**: `vercel.json`ä¸­çš„`functions.runtime`é…ç½®æ ¼å¼ä¸æ­£ç¡®
 
 ## è§£å†³æ–¹æ¡ˆ
 
@@ -48,15 +56,17 @@ webpack: (config, { isServer }) => {
 }
 ```
 
-### 3. ä¼˜åŒ–Vercelé…ç½®
+### 3. ä¿®å¤Vercelé…ç½®
 **æ–‡ä»¶**: `vercel.json`
 ```json
 {
-  "functions": {
-    "app/**/*.{ts,tsx}": {
-      "runtime": "nodejs18.x"
-    }
-  },
+  "version": 2,
+  "framework": "nextjs",
+  "buildCommand": "npm run build",
+  "installCommand": "npm install --legacy-peer-deps",
+  "outputDirectory": ".next",
+  "cleanUrls": true,
+  "trailingSlash": false,
   "headers": [
     {
       "source": "/(.*)",
@@ -71,6 +81,11 @@ webpack: (config, { isServer }) => {
 }
 ```
 
+**ä¿®å¤è¯´æ˜**: 
+- ç§»é™¤äº†é”™è¯¯çš„ `functions` é…ç½®
+- Next.jsåº”ç”¨ä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®šå‡½æ•°è¿è¡Œæ—¶
+- Vercelä¼šè‡ªåŠ¨å¤„ç†Next.jsçš„æœåŠ¡å™¨ç«¯æ¸²æŸ“
+
 ## ä¿®å¤éªŒè¯
 1. **æœ¬åœ°æ„å»ºæµ‹è¯•**: âœ… æˆåŠŸ
    ```bash
@@ -81,19 +96,22 @@ webpack: (config, { isServer }) => {
 
 2. **æ‰€æœ‰å¯¼å…¥è·¯å¾„**: âœ… å·²éªŒè¯
 3. **TypeScripté…ç½®**: âœ… æ­£ç¡®
-
-## ä¸‹ä¸€æ­¥
-1. æ¨é€ä¿®å¤åˆ°GitHubï¼ˆç½‘ç»œé—®é¢˜å¾…è§£å†³ï¼‰
-2. è§¦å‘Vercelé‡æ–°éƒ¨ç½²
-3. éªŒè¯éƒ¨ç½²æˆåŠŸ
+4. **Vercelé…ç½®**: âœ… å·²ä¿®å¤å‡½æ•°è¿è¡Œæ—¶é”™è¯¯
 
 ## ä¿®å¤å†…å®¹æ€»ç»“
 - ğŸ”§ ä¿®å¤äº†adminé¡µé¢çš„é‡å¤å¯¼å…¥é—®é¢˜
 - ğŸš« æ·»åŠ äº†æ„å»ºç¼“å­˜å¼ºåˆ¶æ¸…ç†æœºåˆ¶
 - âš™ï¸ ä¼˜åŒ–äº†Webpackå’ŒVercelé…ç½®
 - ğŸ—‘ï¸ æ¸…ç†äº†æ®‹ç•™çš„å¤‡ä»½æ–‡ä»¶å¼•ç”¨
+- âš¡ ä¿®å¤äº†Vercelå‡½æ•°è¿è¡Œæ—¶é…ç½®é”™è¯¯
 - âœ… é€šè¿‡æœ¬åœ°æ„å»ºéªŒè¯
 
+## éƒ¨ç½²çŠ¶æ€
+- âœ… ä»£ç ä¿®å¤å®Œæˆ
+- âœ… æ¨é€åˆ°GitHubæˆåŠŸ
+- ğŸ”„ ç­‰å¾…Vercelé‡æ–°éƒ¨ç½²éªŒè¯
+
 ---
-**åˆ›å»ºæ—¶é—´**: 2024å¹´12æœˆ18æ—¥
-**çŠ¶æ€**: ä¿®å¤å®Œæˆï¼Œç­‰å¾…æ¨é€å’Œéƒ¨ç½²éªŒè¯ 
\ No newline at end of file
+**åˆ›å»ºæ—¶é—´**: 2024å¹´12æœˆ18æ—¥  
+**æœ€åæ›´æ–°**: 2024å¹´12æœˆ18æ—¥  
+**çŠ¶æ€**: ä¿®å¤å®Œæˆï¼Œç­‰å¾…éƒ¨ç½²éªŒè¯ 
\ No newline at end of file
diff --git a/vercel.json b/vercel.json
index c3a450b..a609160 100644
--- a/vercel.json
+++ b/vercel.json
@@ -4,11 +4,6 @@
   "buildCommand": "npm run build",
   "installCommand": "npm install --legacy-peer-deps",
   "outputDirectory": ".next",
-  "functions": {
-    "app/**/*.{ts,tsx}": {
-      "runtime": "nodejs18.x"
-    }
-  },
   "cleanUrls": true,
   "trailingSlash": false,
   "headers": [
-- 
2.49.0.windows.1

